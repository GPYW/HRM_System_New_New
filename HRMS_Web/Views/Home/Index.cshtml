@{
    ViewData["Title"] = "Home Page";

    var totalEmployees = ViewData["TotalEmployees"] ?? 0;
    var todayAttendanceCount = ViewData["TodayAttendanceCount"] ?? 0;
    var totalAttendancePercentage = ViewData["TotalAttendancePercentage"] ?? 0;
    var totalLeavesTaken = ViewData["TotalLeavesTaken"] ?? 0;
    var pendingLeaveRequests = ViewData["PendingLeaveRequests"] ?? 0;
    var totalDepartments = ViewData["TotalDepartments"] ?? 0;
    var totalProjects = ViewData["TotalProjects"] ?? 0;
    var completedTasks = ViewData["CompletedTasks"] ?? 0;

    var currentTime = DateTime.Now;
    string imageUrl;
    string greeting;

    if (currentTime.Hour >= 0 && currentTime.Hour < 12)
    {
        greeting = "Good morning !";
        imageUrl = Url.Content("~/images/Banners-Home/m3.png");
    }
    else if (currentTime.Hour >= 12 && currentTime.Hour < 18)
    {
        greeting = "Good afternoon !";
        imageUrl = Url.Content("~/images/Banners-Home/afternoon.png");
    }
    else
    {
        greeting = "Good evening !";
        imageUrl = Url.Content("~/images/Banners-Home/eve.png");
    }
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <style>
        .date-style {
            font-size: 10px;
            color: white;
            margin-top: -15px !important;
        }

        .time-style {
            font-size: 50px;
            color: white;
            margin-top: -50%;
        }
    </style>
    <script>
        function updateTime() {
            const now = new Date();
            const dateString = now.toLocaleString('en-US', { weekday: 'long', day: '2-digit', month: 'long', year: 'numeric' });
            const timeString = now.toLocaleString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false });

            document.getElementById('current-date').innerText = dateString;
            document.getElementById('current-time').innerText = timeString;
        }

        setInterval(updateTime, 1000); // Update every second

        window.onload = updateTime; // Set initial time when page loads
    </script>
</head>
<body>
    <br />
    <div>
        <img src="@imageUrl" style="width:75.3%; height:20%; position:absolute" />
    </div>

    <div class="content-header">
        <div class="container-lg">
            <div class="row mb-1">
                <div class="col-sm-12">
                    <div>
                        <div class="row" style="display: flex; justify-content: center; align-items: center; text-align: center;">
                            <p style="color:white; font-size:x-large; margin:-5px;">@greeting</p>
                            <div class="time-style" id="current-time" style="margin: 0 10px;"></div>
                            <div class="date-style" id="current-date" style="margin: 0 10px;"></div>
                        </div>
                    </div>
                </div>
                <h5 class="mt-5" style="margin-left:-15px">Dashboard</h5>
            </div>
        </div>
    </div>

    <section class="content">
        <div class="container-fluid container-xl">
            <div class="row">
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-info">
                        <div class="inner">
                            <h3>@totalEmployees</h3>
                            <p>Total Employees</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-ios-people"></i>
                        </div>
                        <a asp-area="" asp-controller="EmployeeManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-info">
                        <div class="inner">
                            <h3>@todayAttendanceCount</h3>
                            <p>Today's Attendance</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-calendar"></i>
                        </div>
                        <a asp-area="" asp-controller="AttendanceManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-info">
                        <div class="inner">
                            <h3>@totalAttendancePercentage<sup style="font-size: 20px">%</sup></h3>
                            <p>Attendance Percentage</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-calendar"></i>
                        </div>
                        <a asp-area="" asp-controller="AttendanceManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-lightblue">
                        <div class="inner">
                            <h3>@totalLeavesTaken</h3>
                            <p>Leaves Taken</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                        </div>
                        <a asp-area="" asp-controller="LeaveManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-lightblue">
                        <div class="inner">
                            <h3>@pendingLeaveRequests</h3>
                            <p>Pending Leave Requests</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                        </div>
                        <a asp-area="" asp-controller="LeaveManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-lightblue">
                        <div class="inner">
                            <h3>@totalDepartments</h3>
                            <p>Total Departments</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                        </div>
                        <a asp-area="" asp-controller="DepartmentManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-lightblue">
                        <div class="inner">
                            <h3>@totalProjects</h3>
                            <p>Total Projects</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                        </div>
                        <a asp-area="" asp-controller="ProjectManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-6">
                    <div class="small-box bg-lightblue">
                        <div class="inner">
                            <h3>@completedTasks</h3>
                            <p>Completed Tasks</p>
                        </div>
                        <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                        </div>
                        <a asp-area="" asp-controller="TaskManagement" asp-action="Index" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>
